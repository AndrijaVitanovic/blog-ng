<app-navbar></app-navbar>
<div class="container">
  <div class="post-detail">
    <div class="likes">
      <div>
        <mat-icon>arrow_upward</mat-icon>
        <p>{{ roundRating() }}</p>
        <mat-icon>arrow_downward</mat-icon>
      </div>
      <h1 class="post-title">{{ post?.title }}</h1>
    </div>
    <div class="post-info">
      <p class="user-info">Posted by {{ post?.user?.firstName }} • {{calculateCreatedDate(post?.createdDate)}}</p>
    </div>
    <div class="post-content">
      {{ post?.body }}
    </div>
    <div class="comments">
      <div style="width: 100%;display: flex;flex-direction: row;justify-content: space-between;align-items: center;height: 40px;">
        <h2>Comments</h2>
        <button mat-raised-button (click)="openDialog()">Add a Comment</button>
      </div>
      <div class="comment" *ngFor="let comment of post?.comments">
        <div class="title">
          <img [src]="getProfilePicture(comment?.user)" class="profile-picture" alt="profile picture">
          <p class="comment-info">{{ comment?.user?.firstName }} • {{calculateCreatedDate(comment?.createdDate)}}</p>
        </div>
        <p class="comment-text">{{ comment?.body }}</p>
      </div>
    </div>
  </div>
</div>
